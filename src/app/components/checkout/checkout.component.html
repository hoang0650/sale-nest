<div class="container checkout-container">
  <h2 class="text-center mb-4">Đặt Hàng</h2>

  <div class="row mb-4">
    <!-- Billing Information -->
    <div class="col-md-6">
      <h4>Thông tin hoá đơn</h4>
      <form #checkoutForm="ngForm">
        <div class="form-group">
          <label for="fullName">Họ và tên</label>
          <input
            type="text"
            class="form-control"
            id="fullName"
            placeholder="Nhập họ và tên"
            required
            [(ngModel)]="billingInfo.fullName"
            name="fullName"
            #fullName="ngModel"
            [ngClass]="{'is-invalid': fullName.invalid && fullName.touched}"
          />
          <div *ngIf="fullName.invalid && fullName.touched" class="invalid-feedback">
            Họ và tên là bắt buộc.
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Số điện thoại</label>
          <input
            type="number"
            class="form-control"
            id="phone"
            placeholder="Nhập số điện thoại"
            required
            [(ngModel)]="billingInfo.phone"
            name="phone"
            #phone="ngModel"
            [ngClass]="{'is-invalid': phone.invalid && phone.touched}"
          />
          <div *ngIf="phone.invalid && phone.touched" class="invalid-feedback">
            Số điện thoại là bắt buộc.
          </div>
        </div>

        <div class="form-group">
          <label for="address">Địa chỉ</label>
          <input
            type="text"
            class="form-control"
            id="address"
            placeholder="Nhập địa chỉ của bạn"
            required
            [(ngModel)]="billingInfo.address"
            name="address"
            #address="ngModel"
            [ngClass]="{'is-invalid': address.invalid && address.touched}"
          />
          <div *ngIf="address.invalid && address.touched" class="invalid-feedback">
            Địa chỉ là bắt buộc.
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Nhập địa chỉ email"
            required
            [(ngModel)]="billingInfo.email"
            name="email"
            #email="ngModel"
            [ngClass]="{'is-invalid': email.invalid && email.touched}"
          />
          <div *ngIf="email.invalid && email.touched" class="invalid-feedback">
            Vui lòng nhập địa chỉ email hợp lệ.
          </div>
        </div>
      </form>
    </div>

    <!-- Order Summary -->
    <div class="col-md-6">
      <h4>Chi tiết đơn hàng</h4>
      <ul class="list-group mb-3">
        <li
          *ngFor="let item of cartItems"
          class="list-group-item d-flex justify-content-between lh-condensed"
        >
          <div>
            <h6 class="my-0">{{ item.name }}</h6>
            <small class="text-muted">Số lượng: {{ item.quantity }}</small>
          </div>
          <span class="text-muted">{{ item.price | number: '1.0-0' }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <span>Tổng tiền (VND)</span>
          <strong>{{ totalPrice | number: '1.0-0' }}</strong>
        </li>
      </ul>
      <button
        [disabled]="checkoutForm.invalid"
        (click)="placeOrder()"
        class="btn btn-primary btn-lg btn-block"
      >
        Thanh toán
      </button>
    </div>
  </div>
</div>
